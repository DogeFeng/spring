<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
            http://www.springframework.org/schema/beans/spring-beans.xsd
            http://www.springframework.org/schema/context
            https://www.springframework.org/schema/context/spring-context.xsd
            http://www.springframework.org/schema/aop
            https://www.springframework.org/schema/aop/spring-aop.xsd">
    <!-- 进行扫描包的设置，如果要设置多个包，则可以使用“,”拆分 -->
    <context:component-scan base-package="com.ytinf"/>
    <bean id="serviceAdvice" class="com.ytinf.aop.ServiceAdvice"/>  <!-- 辅助处理类 -->
    <aop:config>    <!-- 进行AOP的具体配置 -->
        <aop:pointcut id="commonPointcut" expression="execution(public * com.ytinf.service..*.*(..))"/>
        <aop:aspect ref="serviceAdvice">    <!-- 进行代码的织入处理 -->
            <aop:before method="beforeHandle" arg-names="vo" pointcut="execution(public * com.ytinf.service..*.*(..)) and args(vo)"/>
            <aop:after method="afterHandle" pointcut-ref="commonPointcut"/>
            <aop:after-returning method="returnHandle" pointcut-ref="commonPointcut" returning="resval" arg-names="resval"/>
            <aop:after-throwing method="throwHandle" pointcut-ref="commonPointcut" throwing="e" arg-names="e"/>
        </aop:aspect>
    </aop:config>
</beans>